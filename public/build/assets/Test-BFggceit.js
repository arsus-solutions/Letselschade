import{Z as S,i as V,Q as m,r as c,o as r,f as d,a as l,w as n,F as x,b as a,C as g,d as _,g as f,e as F}from"./app-Dsf7xRMY.js";import{_ as q}from"./GuestLayout-ZgzjBypf.js";import{P as U}from"./PrimaryButton-Cr3zTGRC.js";import{_ as C}from"./SecondaryButton-sP39yf8o.js";import I from"./Step1-CWfWSxx3.js";import B from"./Step2-CNhkSh_q.js";import R from"./Step3-Gj4dy4KU.js";import W from"./Step4-CbAcfrcH.js";import L from"./Step5-B-wSYTeE.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-DwlXW0Zy.js";import"./Categories-DCpctVwZ.js";import"./RadioGroup-CPraawve.js";import"./Checkbox-B99YWXvh.js";import"./TextInput-D3mJoem3.js";import"./Select-rVmwoXjw.js";const H={name:"Home",components:{Head:S,Link:V,usePage:m,GuestLayout:q,PrimaryButton:U,SecondaryButton:C,Step1:I,Step2:B,Step3:R,Step4:W,Step5:L},created(){const s=m().props.selectedCategory;if(s){const u=s.split("-");this.webreaction.lead_type_id=parseInt(u[0]),this.letselschade.category=u[1]}},data(){return{currentStep:1,invalidFields:[],loading:!1,letselschade:{category:null,erkenning:null,toelichting_aansprakelijkheid:"",wanneer_ongeval:null,eerder_verhaal:null,durf_aansprakelijk:null,manier_verhaal:null,juridische_hulp:null,data_tegenpartij:null,politie_inspectie:null,reden_ontevreden:"",interesse_overname_secondopinion:null,soort_letsel:null,omschrijving_letsel:"",behandeling:null,opgelopen_schade:null,arbeidsongeschiktheid:null,duur_ao:null,huishoudelijk:null,zelfstandig:null,leeftijdsgroep:null},questions:{category:"Wat is de aard van uw ongeval?",erkenning:"Is er aansprakelijkheid erkend?",toelichting_aansprakelijkheid:"Wat is er precies gebeurd?",wanneer_ongeval:"Wanneer vond het ongeval plaats?",eerder_verhaal:"Heeft u geprobeerd de schade te claimen?",durf_aansprakelijk:"Vindt u het goed als uw werkgever aansprakelijk wordt gesteld?",manier_verhaal:"Hoe heeft u de schade geprobeerd te claimen?",juridische_hulp:"Heeft u interesse in kosteloze hulp?",data_tegenpartij:"Zijn de gegevens van de tegenpartij bekend?",politie:"Is de politie ter plaatse geweest?",politie_inspectie:"Is de politie of arbeidsinspectie ter plaatse geweest?",reden_ontevreden:"Waar bent u ontevreden over?",interesse_overname_secondopinion:"Waar heeft u interesse in?",soort_letsel:"Hoe ernstig is het letsel?",omschrijving_letsel:"Omschrijf uw opgelopen letsel",behandeling:"Bent u al onder medische behandeling (geweest)?",opgelopen_schade:"Kunt u een indicatie geven van de tot nu toe opgelopen schade?",arbeidsongeschiktheid:"Is er sprake van arbeidsongeschiktheid?",duur_ao:"Is de arbeidsongeschiktheid blijvend of langer dan 6 maanden?",huishoudelijk:"Is er behoefte aan huishoudelijke hulp? (ingehuurd of door familie/vrienden)",zelfstandig:"Bent u zelfstandig ondernemer?",leeftijdsgroep:"In welke leeftijdsgroep valt u?"},webreaction:{webmodule_id:1,lead_webreaction_type_id:1,domain_name:"",lead_type_id:0,gender:"m",firstname:"",lastname:"",postal_code_id:"",postal_code_letters:"",house_number:"",email:"",telephone:"",availableTime:"09:00",details:""},testResults:null}},mounted(){window.addEventListener("beforeunload",this.handleBeforeUnload)},beforeUnmount(){window.removeEventListener("beforeunload",this.handleBeforeUnload)},methods:{handleBeforeUnload(e){e.preventDefault(),e.returnValue=""},handleRadio(e,s){this.letselschade[e]=s},handleRadioWebreaction(e,s){this.webreaction[e]=s},scrollTo(e){const s=document.getElementById(e);s&&s.scrollIntoView({behavior:"smooth",block:"center"})},validateStep1(){const e=[];this.letselschade.category||e.push("category"),(this.letselschade.category==="verkeersongeval"||this.letselschade.category==="bedrijfsongeval")&&this.letselschade.erkenning===null&&e.push("erkenning"),this.letselschade.category==="bedrijfsongeval"&&this.letselschade.durf_aansprakelijk===null&&e.push("durf_aansprakelijk"),this.letselschade.toelichting_aansprakelijkheid===""&&e.push("toelichting_aansprakelijkheid"),this.letselschade.wanneer_ongeval||e.push("wanneer_ongeval"),this.letselschade.eerder_verhaal===null?e.push("eerder_verhaal"):(this.letselschade.eerder_verhaal===1&&!this.letselschade.manier_verhaal&&e.push("manier_verhaal"),(this.letselschade.eerder_verhaal===0||this.letselschade.manier_verhaal==="Zelfstandig"||this.letselschade.manier_verhaal==="Op een andere manier")&&!this.letselschade.juridische_hulp&&e.push("juridische_hulp"),this.letselschade.eerder_verhaal===1&&(this.letselschade.manier_verhaal==="Via rechtsbijstandsverzekering"||this.letselschade.manier_verhaal==="Via letselschadebureau"||this.letselschade.manier_verhaal==="Via advocaat")&&(this.letselschade.reden_ontevreden===""&&e.push("reden_ontevreden"),this.letselschade.interesse_overname_secondopinion===null&&e.push("interesse_overname_secondopinion")),(this.letselschade.erkenning===0||this.letselschade.category==="dieren"||this.letselschade.category==="wegdek")&&(this.letselschade.category==="bedrijfsongeval"||this.letselschade.category==="wegdek")&&this.letselschade.politie_inspectie===null&&e.push("politie_inspectie")),(this.letselschade.erkenning===0||this.letselschade.category==="dieren"||this.letselschade.category==="wegdek")&&(this.letselschade.category!=="bedrijfsongeval"&&this.letselschade.data_tegenpartij===null&&e.push("data_tegenpartij"),this.letselschade.category!=="bedrijfsongeval"&&this.letselschade.politie===null&&e.push("politie")),this.invalidFields.push(...e)},validateStep2(){const e=[];this.letselschade.soort_letsel===null&&e.push("soort_letsel"),this.letselschade.omschrijving_letsel===""&&e.push("omschrijving_letsel"),this.letselschade.behandeling===null&&e.push("behandeling"),this.letselschade.opgelopen_schade===null&&e.push("opgelopen_schade"),this.invalidFields.push(...e)},validateStep3(){this.letselschade.arbeidsongeschiktheid,this.letselschade.arbeidsongeschiktheid!=="Geen"&&this.letselschade.arbeidsongeschiktheid!==null&&this.letselschade.duur_ao,this.letselschade.huishoudelijk,this.letselschade.zelfstandig,this.letselschade.leeftijdsgroep},validateStep4(){const e=[];this.webreaction.firstname===""&&e.push("firstname"),this.webreaction.lastname===""&&e.push("lastname"),this.webreaction.lastname===""&&e.push("lastname"),this.webreaction.postal_code_id===""&&e.push("postal_code_id"),this.webreaction.postal_code_letters===""&&e.push("postal_code_letters"),this.webreaction.house_number===""&&e.push("house_number");const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,u=/^[+-]?[0-9\s-]+$/;(this.webreaction.email===""||!s.test(this.webreaction.email))&&e.push("email"),(this.webreaction.telephone===""||!u.test(this.webreaction.telephone)||this.webreaction.telephone.length<8||this.webreaction.telephone.length>15)&&e.push("telephone"),this.invalidFields.push(...e)},scrollToTop(){document.getElementById("top").scrollIntoView({behavior:"smooth",block:"center"})},goTo(e){switch(this.invalidFields=[],this.currentStep){case 1:this.validateStep1();break;case 2:this.validateStep2();break;case 3:this.validateStep3();break;case 4:this.validateStep4();break}this.invalidFields.length===0?this.currentStep===4?this.submit():(this.currentStep=e,this.$nextTick(()=>{this.scrollToTop()})):this.$nextTick(()=>{const s=document.querySelector(".error-field");s&&s.scrollIntoView({behavior:"smooth",block:"center"})})},trackConversion(){console.log("track conversion is triggered"),window.gtag("event","conversion",{send_to:"AW-10859171119/K7m6CLzNi4caEN3L8Ygr",value:1,currency:"EUR"})},submit(){this.loading=!0,console.log("webreaction",this.webreaction);const e={};for(const o in this.questions)if(this.letselschade[o]!==null){let t=this.letselschade[o];this.letselschade[o]===1&&(t="Ja"),this.letselschade[o]===0&&(t="Nee"),e[this.questions[o]]=t}this.testResults=e;const s="/webreactie";this.webreaction.json_details=this.testResults;const u=this.webreaction;axios.post(s,u).then(o=>{console.log("Data sent successfully:",o.data),this.trackConversion(),this.currentStep=5,this.$nextTick(()=>{this.scrollToTop()})}).catch(o=>{console.error("Error sending data:",o)}).finally(()=>{this.loading=!1})}}},z=a("title",null,"Letselschade",-1),N=a("meta",{name:"description",content:"In dit onderdeel kijken we naar de situatie van het ongeval en in hoeverre er een aansprakelijke tegenpartij bestaat op wie de schade verhaald kan worden."},null,-1),D=a("div",{id:"top"},null,-1),P={key:0,ref:"step-1"},G={key:0,class:"px-24 py-10 bg-white"},O={class:"flex justify-end max-md:px-5"},K=a("i",{class:"fas fa-arrow-right ml-3"},null,-1),Z={key:0,ref:"step-2",class:"md:p-24 bg-white"},A={class:"flex justify-between py-8 max-md:px-5"},J=a("i",{class:"fas fa-arrow-left mr-3"},null,-1),M=a("i",{class:"fas fa-arrow-right ml-3"},null,-1),Q={key:0,ref:"step-3",class:"md:p-24 bg-white"},Y={class:"flex justify-between py-8 max-md:px-5"},X=a("i",{class:"fas fa-arrow-left mr-3"},null,-1),$=a("i",{class:"fas fa-arrow-right ml-3"},null,-1),ee={key:0,ref:"step-4",class:"md:p-24 bg-white"},se={class:"flex justify-between py-8 max-md:px-5"},te=a("i",{class:"fas fa-arrow-left mr-3"},null,-1),le={key:0,class:"fas fa-spinner fa-spin-pulse ml-3"},ie={key:1,class:"fas fa-check ml-3"},ne={key:0,ref:"step-5",class:"md:p-24 bg-white"};function ae(e,s,u,o,t,i){const v=c("Head"),b=c("step1"),p=c("secondary-button"),k=c("step2"),w=c("step3"),y=c("step4"),j=c("step5"),T=c("GuestLayout");return r(),d(x,null,[l(v,null,{default:n(()=>[z,N]),_:1}),l(T,null,{default:n(()=>[D,a("form",{onSubmit:s[7]||(s[7]=F((...h)=>i.submit&&i.submit(...h),["prevent"]))},[l(g,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===1?(r(),d("div",P,[l(b,{letselschade:t.letselschade,invalidFields:t.invalidFields,questions:t.questions,"onUpdate:selectedValue":i.handleRadio,onScrollTo:i.scrollTo},null,8,["letselschade","invalidFields","questions","onUpdate:selectedValue","onScrollTo"]),t.letselschade.category?(r(),d("div",G,[a("div",O,[l(p,{onClick:s[0]||(s[0]=h=>i.goTo(2))},{default:n(()=>[_(" Volgende "),K]),_:1})])])):f("",!0)],512)):f("",!0)]),_:1}),l(g,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===2?(r(),d("div",Z,[l(k,{letselschade:t.letselschade,invalidFields:t.invalidFields,questions:t.questions,"onUpdate:selectedValue":i.handleRadio,onScrollTo:i.scrollTo},null,8,["letselschade","invalidFields","questions","onUpdate:selectedValue","onScrollTo"]),a("div",A,[l(p,{onClick:s[1]||(s[1]=h=>i.goTo(1))},{default:n(()=>[J,_(" Vorige ")]),_:1}),l(p,{onClick:s[2]||(s[2]=h=>i.goTo(3))},{default:n(()=>[_(" Volgende "),M]),_:1})])],512)):f("",!0)]),_:1}),l(g,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===3?(r(),d("div",Q,[l(w,{letselschade:t.letselschade,invalidFields:t.invalidFields,questions:t.questions,"onUpdate:selectedValue":i.handleRadio,onScrollTo:i.scrollTo},null,8,["letselschade","invalidFields","questions","onUpdate:selectedValue","onScrollTo"]),a("div",Y,[l(p,{onClick:s[3]||(s[3]=h=>i.goTo(2))},{default:n(()=>[X,_(" Vorige ")]),_:1}),l(p,{onClick:s[4]||(s[4]=h=>i.goTo(4))},{default:n(()=>[_(" Volgende "),$]),_:1})])],512)):f("",!0)]),_:1}),l(g,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===4?(r(),d("div",ee,[l(y,{webreaction:t.webreaction,invalidFields:t.invalidFields,"onUpdate:selectedValueWebreaction":i.handleRadioWebreaction,"onUpdate:selectedOption":i.handleRadioWebreaction,onScrollTo:i.scrollTo},null,8,["webreaction","invalidFields","onUpdate:selectedValueWebreaction","onUpdate:selectedOption","onScrollTo"]),a("div",se,[l(p,{onClick:s[5]||(s[5]=h=>i.goTo(3))},{default:n(()=>[te,_(" Vorige ")]),_:1}),l(p,{onClick:s[6]||(s[6]=h=>i.goTo(5)),disable:t.loading},{default:n(()=>[_(" Klik hier voor uw uitslag "),t.loading?(r(),d("i",le)):(r(),d("i",ie))]),_:1},8,["disable"])])],512)):f("",!0)]),_:1}),l(g,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===5?(r(),d("div",ne,[l(j,{webreaction:t.webreaction,letselschade:t.letselschade,questions:t.questions},null,8,["webreaction","letselschade","questions"])],512)):f("",!0)]),_:1})],32)]),_:1})],64)}const je=E(H,[["render",ae]]);export{je as default};
