import{Q as v,i as S,Z as V,r as c,f as r,o as d,a as l,w as n,b as a,d as x,x as m,g,e as f,F}from"./app-Dxq0shFC.js";import{G as q}from"./GuestLayout-De-B4yUY.js";import{P as U}from"./PrimaryButton-Bd6NbLEb.js";import{_ as C}from"./SecondaryButton-BUALXHS5.js";import I from"./Step1-CzjeLwpY.js";import B from"./Step2-CdUhtSUR.js";import R from"./Step3-Ct-_JvIS.js";import W from"./Step4-O8SLIyBB.js";import L from"./Step5-nykfo_J_.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-C5CxLCwi.js";import"./Categories-BrMT_cvm.js";import"./RadioGroup-BMMrYDqO.js";import"./Checkbox-C7JnpCnM.js";import"./TextInput-D_fsNkyu.js";import"./Select-BBi953_k.js";const H={name:"Home",components:{Head:V,Link:S,usePage:v,GuestLayout:q,PrimaryButton:U,SecondaryButton:C,Step1:I,Step2:B,Step3:R,Step4:W,Step5:L},created(){const e=v().props.selectedCategory;if(e){const u=e.split("-");this.webreaction.lead_type_id=parseInt(u[0]),this.letselschade.category=u[1]}},data(){return{currentStep:1,invalidFields:[],loading:!1,letselschade:{category:null,erkenning:null,toelichting_aansprakelijkheid:"",wanneer_ongeval:null,eerder_verhaal:null,durf_aansprakelijk:null,manier_verhaal:null,juridische_hulp:null,data_tegenpartij:null,politie_inspectie:null,reden_ontevreden:"",interesse_overname_secondopinion:null,soort_letsel:null,omschrijving_letsel:"",behandeling:null,opgelopen_schade:null,arbeidsongeschiktheid:null,duur_ao:null,huishoudelijk:null,zelfstandig:null,leeftijdsgroep:null},questions:{category:"Wat is de aard van uw ongeval?",erkenning:"Is er aansprakelijkheid erkend?",toelichting_aansprakelijkheid:"Wat is er precies gebeurd?",wanneer_ongeval:"Wanneer vond het ongeval plaats?",eerder_verhaal:"Heeft u geprobeerd de schade te claimen?",durf_aansprakelijk:"Vindt u het goed als uw werkgever aansprakelijk wordt gesteld?",manier_verhaal:"Hoe heeft u de schade geprobeerd te claimen?",juridische_hulp:"Heeft u interesse in kosteloze hulp?",data_tegenpartij:"Zijn de gegevens van de tegenpartij bekend?",politie:"Is de politie ter plaatse geweest?",politie_inspectie:"Is de politie of arbeidsinspectie ter plaatse geweest?",reden_ontevreden:"Waar bent u ontevreden over?",interesse_overname_secondopinion:"Waar heeft u interesse in?",soort_letsel:"Hoe ernstig is het letsel?",omschrijving_letsel:"Omschrijf uw opgelopen letsel",behandeling:"Bent u al onder medische behandeling (geweest)?",opgelopen_schade:"Kunt u een indicatie geven van de tot nu toe opgelopen schade?",arbeidsongeschiktheid:"Is er sprake van arbeidsongeschiktheid?",duur_ao:"Is de arbeidsongeschiktheid blijvend of langer dan 6 maanden?",huishoudelijk:"Is er behoefte aan huishoudelijke hulp? (ingehuurd of door familie/vrienden)",zelfstandig:"Bent u zelfstandig ondernemer?",leeftijdsgroep:"In welke leeftijdsgroep valt u?"},webreaction:{webmodule_id:1,lead_webreaction_type_id:1,domain_name:"",lead_type_id:0,gender:"m",firstname:"",lastname:"",postal_code_id:"",postal_code_letters:"",house_number:"",email:"",telephone:"",availableTime:"09:00",details:""},testResults:null}},mounted(){window.addEventListener("beforeunload",this.handleBeforeUnload)},beforeUnmount(){window.removeEventListener("beforeunload",this.handleBeforeUnload)},methods:{handleBeforeUnload(s){s.preventDefault(),s.returnValue=""},handleRadio(s,e){this.letselschade[s]=e},handleRadioWebreaction(s,e){this.webreaction[s]=e},scrollTo(s){const e=document.getElementById(s);e&&e.scrollIntoView({behavior:"smooth",block:"center"})},validateStep1(){const s=[];this.letselschade.category||s.push("category"),(this.letselschade.category==="verkeersongeval"||this.letselschade.category==="bedrijfsongeval")&&this.letselschade.erkenning===null&&s.push("erkenning"),this.letselschade.category==="bedrijfsongeval"&&this.letselschade.durf_aansprakelijk===null&&s.push("durf_aansprakelijk"),this.letselschade.toelichting_aansprakelijkheid===""&&s.push("toelichting_aansprakelijkheid"),this.letselschade.wanneer_ongeval||s.push("wanneer_ongeval"),this.letselschade.eerder_verhaal===null?s.push("eerder_verhaal"):(this.letselschade.eerder_verhaal===1&&!this.letselschade.manier_verhaal&&s.push("manier_verhaal"),(this.letselschade.eerder_verhaal===0||this.letselschade.manier_verhaal==="Zelfstandig"||this.letselschade.manier_verhaal==="Op een andere manier")&&!this.letselschade.juridische_hulp&&s.push("juridische_hulp"),this.letselschade.eerder_verhaal===1&&(this.letselschade.manier_verhaal==="Via rechtsbijstandsverzekering"||this.letselschade.manier_verhaal==="Via letselschadebureau"||this.letselschade.manier_verhaal==="Via advocaat")&&(this.letselschade.reden_ontevreden===""&&s.push("reden_ontevreden"),this.letselschade.interesse_overname_secondopinion===null&&s.push("interesse_overname_secondopinion")),(this.letselschade.erkenning===0||this.letselschade.category==="dieren"||this.letselschade.category==="wegdek")&&(this.letselschade.category==="bedrijfsongeval"||this.letselschade.category==="wegdek")&&this.letselschade.politie_inspectie===null&&s.push("politie_inspectie")),(this.letselschade.erkenning===0||this.letselschade.category==="dieren"||this.letselschade.category==="wegdek")&&(this.letselschade.category!=="bedrijfsongeval"&&this.letselschade.data_tegenpartij===null&&s.push("data_tegenpartij"),this.letselschade.category!=="bedrijfsongeval"&&this.letselschade.politie===null&&s.push("politie")),this.invalidFields.push(...s)},validateStep2(){const s=[];this.letselschade.soort_letsel===null&&s.push("soort_letsel"),this.letselschade.omschrijving_letsel===""&&s.push("omschrijving_letsel"),this.letselschade.behandeling===null&&s.push("behandeling"),this.letselschade.opgelopen_schade===null&&s.push("opgelopen_schade"),this.invalidFields.push(...s)},validateStep3(){this.letselschade.arbeidsongeschiktheid,this.letselschade.arbeidsongeschiktheid!=="Geen"&&this.letselschade.arbeidsongeschiktheid!==null&&this.letselschade.duur_ao,this.letselschade.huishoudelijk,this.letselschade.zelfstandig,this.letselschade.leeftijdsgroep},validateStep4(){const s=[];this.webreaction.firstname===""&&s.push("firstname"),this.webreaction.lastname===""&&s.push("lastname"),this.webreaction.lastname===""&&s.push("lastname"),this.webreaction.postal_code_id===""&&s.push("postal_code_id"),this.webreaction.postal_code_letters===""&&s.push("postal_code_letters"),this.webreaction.house_number===""&&s.push("house_number");const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,u=/^[+-]?[0-9\s-]+$/;(this.webreaction.email===""||!e.test(this.webreaction.email))&&s.push("email"),(this.webreaction.telephone===""||!u.test(this.webreaction.telephone)||this.webreaction.telephone.length<8||this.webreaction.telephone.length>15)&&s.push("telephone"),this.invalidFields.push(...s)},scrollToTop(){document.getElementById("top").scrollIntoView({behavior:"smooth",block:"center"})},goTo(s){switch(this.invalidFields=[],this.currentStep){case 1:this.validateStep1();break;case 2:this.validateStep2();break;case 3:this.validateStep3();break;case 4:this.validateStep4();break}this.invalidFields.length===0?this.currentStep===4?this.submit():(this.currentStep=s,this.$nextTick(()=>{this.scrollToTop()})):this.$nextTick(()=>{const e=document.querySelector(".error-field");e&&e.scrollIntoView({behavior:"smooth",block:"center"})})},trackConversion(){console.log("track conversion is triggered"),window.gtag("event","conversion",{send_to:"AW-10859171119/K7m6CLzNi4caEN3L8Ygr",value:1,currency:"EUR"})},submit(){this.loading=!0,console.log("webreaction",this.webreaction);const s={};for(const o in this.questions)if(this.letselschade[o]!==null){let t=this.letselschade[o];this.letselschade[o]===1&&(t="Ja"),this.letselschade[o]===0&&(t="Nee"),s[this.questions[o]]=t}this.testResults=s;const e="/webreactie";this.webreaction.json_details=this.testResults;const u=this.webreaction;axios.post(e,u).then(o=>{console.log("Data sent successfully:",o.data),this.trackConversion(),this.currentStep=5,this.$nextTick(()=>{this.scrollToTop()})}).catch(o=>{console.error("Error sending data:",o)}).finally(()=>{this.loading=!1})}}},z={key:0,ref:"step-1"},N={key:0,class:"px-24 py-10 bg-white"},D={class:"flex justify-end max-md:px-5"},G={key:0,ref:"step-2",class:"md:p-24 bg-white"},P={class:"flex justify-between py-8 max-md:px-5"},O={key:0,ref:"step-3",class:"md:p-24 bg-white"},K={class:"flex justify-between py-8 max-md:px-5"},Z={key:0,ref:"step-4",class:"md:p-24 bg-white"},A={class:"flex justify-between py-8 max-md:px-5"},J={key:0,class:"fas fa-spinner fa-spin-pulse ml-3"},M={key:1,class:"fas fa-check ml-3"},Q={key:0,ref:"step-5",class:"md:p-24 bg-white"};function Y(s,e,u,o,t,i){const _=c("Head"),b=c("step1"),p=c("secondary-button"),k=c("step2"),w=c("step3"),y=c("step4"),j=c("step5"),T=c("GuestLayout");return d(),r(F,null,[l(_,null,{default:n(()=>[...e[8]||(e[8]=[a("title",null,"Letselschade",-1),a("meta",{name:"description",content:"In dit onderdeel kijken we naar de situatie van het ongeval en in hoeverre er een aansprakelijke tegenpartij bestaat op wie de schade verhaald kan worden."},null,-1)])]),_:1}),l(T,null,{default:n(()=>[e[16]||(e[16]=a("div",{id:"top"},null,-1)),a("form",{onSubmit:e[7]||(e[7]=x((...h)=>i.submit&&i.submit(...h),["prevent"]))},[l(m,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===1?(d(),r("div",z,[l(b,{letselschade:t.letselschade,invalidFields:t.invalidFields,questions:t.questions,"onUpdate:selectedValue":i.handleRadio,onScrollTo:i.scrollTo},null,8,["letselschade","invalidFields","questions","onUpdate:selectedValue","onScrollTo"]),t.letselschade.category?(d(),r("div",N,[a("div",D,[l(p,{onClick:e[0]||(e[0]=h=>i.goTo(2))},{default:n(()=>[...e[9]||(e[9]=[f(" Volgende ",-1),a("i",{class:"fas fa-arrow-right ml-3"},null,-1)])]),_:1})])])):g("",!0)],512)):g("",!0)]),_:1}),l(m,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===2?(d(),r("div",G,[l(k,{letselschade:t.letselschade,invalidFields:t.invalidFields,questions:t.questions,"onUpdate:selectedValue":i.handleRadio,onScrollTo:i.scrollTo},null,8,["letselschade","invalidFields","questions","onUpdate:selectedValue","onScrollTo"]),a("div",P,[l(p,{onClick:e[1]||(e[1]=h=>i.goTo(1))},{default:n(()=>[...e[10]||(e[10]=[a("i",{class:"fas fa-arrow-left mr-3"},null,-1),f(" Vorige ",-1)])]),_:1}),l(p,{onClick:e[2]||(e[2]=h=>i.goTo(3))},{default:n(()=>[...e[11]||(e[11]=[f(" Volgende ",-1),a("i",{class:"fas fa-arrow-right ml-3"},null,-1)])]),_:1})])],512)):g("",!0)]),_:1}),l(m,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===3?(d(),r("div",O,[l(w,{letselschade:t.letselschade,invalidFields:t.invalidFields,questions:t.questions,"onUpdate:selectedValue":i.handleRadio,onScrollTo:i.scrollTo},null,8,["letselschade","invalidFields","questions","onUpdate:selectedValue","onScrollTo"]),a("div",K,[l(p,{onClick:e[3]||(e[3]=h=>i.goTo(2))},{default:n(()=>[...e[12]||(e[12]=[a("i",{class:"fas fa-arrow-left mr-3"},null,-1),f(" Vorige ",-1)])]),_:1}),l(p,{onClick:e[4]||(e[4]=h=>i.goTo(4))},{default:n(()=>[...e[13]||(e[13]=[f(" Volgende ",-1),a("i",{class:"fas fa-arrow-right ml-3"},null,-1)])]),_:1})])],512)):g("",!0)]),_:1}),l(m,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===4?(d(),r("div",Z,[l(y,{webreaction:t.webreaction,invalidFields:t.invalidFields,"onUpdate:selectedValueWebreaction":i.handleRadioWebreaction,"onUpdate:selectedOption":i.handleRadioWebreaction,onScrollTo:i.scrollTo},null,8,["webreaction","invalidFields","onUpdate:selectedValueWebreaction","onUpdate:selectedOption","onScrollTo"]),a("div",A,[l(p,{onClick:e[5]||(e[5]=h=>i.goTo(3))},{default:n(()=>[...e[14]||(e[14]=[a("i",{class:"fas fa-arrow-left mr-3"},null,-1),f(" Vorige ",-1)])]),_:1}),l(p,{onClick:e[6]||(e[6]=h=>i.goTo(5)),disable:t.loading},{default:n(()=>[e[15]||(e[15]=f(" Klik hier voor uw uitslag ",-1)),t.loading?(d(),r("i",J)):(d(),r("i",M))]),_:1},8,["disable"])])],512)):g("",!0)]),_:1}),l(m,{name:"slide-fade-left"},{default:n(()=>[t.currentStep===5?(d(),r("div",Q,[l(j,{webreaction:t.webreaction,letselschade:t.letselschade,questions:t.questions},null,8,["webreaction","letselschade","questions"])],512)):g("",!0)]),_:1})],32)]),_:1})],64)}const fe=E(H,[["render",Y]]);export{fe as default};
